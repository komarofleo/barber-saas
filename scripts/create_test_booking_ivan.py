"""–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–ø–∏—Å—å –¥–ª—è –ò–≤–∞–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞ —á–µ—Ä–µ–∑ API"""
import requests
import json
from datetime import date, timedelta

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏
API_URL = "http://localhost:8000"
# –ù—É–∂–µ–Ω JWT —Ç–æ–∫–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ - –ø–æ–ª—É—á–∏—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ –±–æ—Ç–∞

def create_test_booking():
    """–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∑–∞–ø–∏—Å—å"""
    print("üìã –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ –¥–ª—è –ò–≤–∞–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞")
    print("=" * 50)
    
    # TODO: –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    # 1. –í–æ–π–¥–∏—Ç–µ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
    # 2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
    # 3. –í–∫–ª–∞–¥–∫–∞ Application/Storage ‚Üí Local Storage ‚Üí –Ω–∞–π–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω
    # 4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –Ω–∏–∂–µ
    
    token = "YOUR_JWT_TOKEN_HERE"
    
    if token == "YOUR_JWT_TOKEN_HERE":
        print("‚ö†Ô∏è  –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å JWT —Ç–æ–∫–µ–Ω!")
        print("\n–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω:")
        print("1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000")
        print("2. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä")
        print("3. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)")
        print("4. Application ‚Üí Local Storage ‚Üí –Ω–∞–π–¥–∏—Ç–µ 'token'")
        print("5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é token –≤—ã—à–µ")
        return
    
    headers = {
        "Authorization": f"Bearer {token}",
        "Content-Type": "application/json"
    }
    
    # –ó–∞–≤—Ç—Ä–∞ –≤ 10:00
    tomorrow = date.today() + timedelta(days=1)
    
    # –°–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞ "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
    # –ò –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ client_id, service_id –∏ —Ç.–¥.
    
    print("‚ö†Ô∏è  –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ API –Ω—É–∂–Ω–æ:")
    print("   1. –ü–æ–ª—É—á–∏—Ç—å client_id –¥–ª—è '–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤'")
    print("   2. –ü–æ–ª—É—á–∏—Ç—å service_id (–ª—é–±–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —É—Å–ª—É–≥–∞)")
    print("   3. –°–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ POST /api/bookings")
    print("   4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ PATCH /api/bookings/{id}")
    print("\nüí° –ü—Ä–æ—â–µ —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:")
    print("   http://localhost:3000/bookings ‚Üí + –ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å")
    print("   - –ö–ª–∏–µ–Ω—Ç: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤")
    print("   - –î–∞—Ç–∞: –ó–∞–≤—Ç—Ä–∞")
    print("   - –í—Ä–µ–º—è: 10:00")
    print("   - –°—Ç–∞—Ç—É—Å: confirmed")


if __name__ == "__main__":
    create_test_booking()
