# ‚öôÔ∏è CONFIGURATION - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã

–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–∏—Å—Ç–µ–º—ã Barber.

---

## üìã –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

### Telegram Bot

```env
# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather
BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz123456789

# Telegram ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
ADMIN_IDS=329621295,987654321
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```env
DB_HOST=postgres              # –•–æ—Å—Ç (–∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ Docker)
DB_PORT=5432                  # –ü–æ—Ä—Ç –≤–Ω—É—Ç—Ä–∏ Docker network
DB_NAME=barber_db        # –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DB_USER=barber_user      # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î
DB_PASSWORD=strong_password   # –ü–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 16 —Å–∏–º–≤–æ–ª–æ–≤)
```

### Redis

```env
REDIS_HOST=redis             # –•–æ—Å—Ç (–∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞)
REDIS_PORT=6379              # –ü–æ—Ä—Ç –≤–Ω—É—Ç—Ä–∏ Docker network
REDIS_DB=0                   # –ù–æ–º–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Redis
```

### –í–µ–±-–ø–∞–Ω–µ–ª—å

```env
# –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT (–º–∏–Ω–∏–º—É–º 32 —Å–∏–º–≤–æ–ª–∞)
WEB_SECRET_KEY=your_32_character_secret_key_here

# –•–æ—Å—Ç –∏ –ø–æ—Ä—Ç
WEB_HOST=0.0.0.0
WEB_PORT=8000

# CORS origins (—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã)
WEB_CORS_ORIGINS=http://185.17.3.108:3000,http://localhost:3000
```

### –ì—Ä–∞—Ñ–∏–∫ —Ä–∞–±–æ—Ç—ã

```env
WORK_START_TIME=09:00        # –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è
WORK_END_TIME=18:00          # –ö–æ–Ω–µ—Ü —Ä–∞–±–æ—á–µ–≥–æ –¥–Ω—è
SLOT_DURATION=30             # –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–ª–æ—Ç–∞ (30 –∏–ª–∏ 60 –º–∏–Ω—É—Ç)
```

### –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞—Å—Ç–µ—Ä–æ–≤

```env
# false = –≤—Å–µ –º–∞—Å—Ç–µ—Ä–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ
# true = —É—á–∏—Ç—ã–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é (—Ç–∞–±–ª–∏—Ü–∞ master_services)
ENABLE_MASTER_SPECIALIZATION=false
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

```env
# –í—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ –¥–µ–Ω—å –¥–æ –∑–∞–ø–∏—Å–∏
REMINDER_DAY_BEFORE_TIME=18:00

# –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞ —á–∞—Å (true/false)
REMINDER_HOUR_BEFORE=true

# –ó–∞–¥–µ—Ä–∂–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É –æ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ (–º–∏–Ω—É—Ç—ã)
NOTIFY_ADMIN_DELAY_MINUTES=5

# –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ª–∏—Å—Ç-–Ω–∞—Ä—è–¥–∞ –º–∞—Å—Ç–µ—Ä–∞–º
WORK_ORDER_TIME=08:00
```

### –î—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```env
DEBUG=False                  # –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏
TIMEZONE=Europe/Moscow       # –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å
```

---

## üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `settings` (–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ).

### –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```sql
SELECT value FROM settings WHERE key = 'accepting_bookings';
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```sql
UPDATE settings SET value = 'false' WHERE key = 'accepting_bookings';
```

### –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

| –ö–ª—é—á | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|------|----------|----------------------|
| `accepting_bookings` | –ü—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è –ª–∏ –∑–∞—è–≤–∫–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ | `true` |
| `work_start_time` | –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã | `09:00` |
| `work_end_time` | –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã | `18:00` |
| `slot_duration` | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–ª–æ—Ç–∞ (–º–∏–Ω) | `30` |
| `enable_master_specialization` | –£—á–∏—Ç—ã–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é | `false` |
| `reminder_day_before_time` | –í—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∑–∞ –¥–µ–Ω—å | `18:00` |
| `reminder_hour_before` | –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∑–∞ —á–∞—Å | `true` |
| `notify_admin_delay_minutes` | –ó–∞–¥–µ—Ä–∂–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω—É | `5` |
| `work_order_time` | –í—Ä–µ–º—è –ª–∏—Å—Ç-–Ω–∞—Ä—è–¥–∞ | `08:00` |

---

## üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-–ø–∞–Ω–µ–ª–∏

### –î–æ—Å—Ç—É–ø

- **URL:** `http://your-server-ip:3000`
- **Login:** Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Password:** Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É

–í —Ç–∞–±–ª–∏—Ü–µ `users` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å:
- `is_admin = TRUE`
- `is_blocked = FALSE`

```sql
-- –ù–∞–∑–Ω–∞—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
UPDATE users SET is_admin = TRUE WHERE telegram_id = 329621295;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
SELECT id, telegram_id, username, is_admin, is_blocked FROM users WHERE is_admin = TRUE;
```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –º–∞–ª–µ–Ω—å–∫–æ–≥–æ —Å–∞–ª–æ–Ω–∞ –∫—Ä–∞—Å–æ—Ç—ã

```env
# 2-3 –º–∞—Å—Ç–µ—Ä–∞, 3 —Ä–∞–±–æ—á–∏—Ö –º–µ—Å—Ç–∞
WORK_START_TIME=09:00
WORK_END_TIME=17:00
SLOT_DURATION=60
ENABLE_MASTER_SPECIALIZATION=false
REMINDER_DAY_BEFORE_TIME=18:00
REMINDER_HOUR_BEFORE=false
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–æ–≥–æ —Å–∞–ª–æ–Ω–∞ –∫—Ä–∞—Å–æ—Ç—ã

```env
# 8-10 –º–∞—Å—Ç–µ—Ä–æ–≤, 6-7 —Ä–∞–±–æ—á–∏—Ö –º–µ—Å—Ç
WORK_START_TIME=08:00
WORK_END_TIME=20:00
SLOT_DURATION=30
ENABLE_MASTER_SPECIALIZATION=true
REMINDER_DAY_BEFORE_TIME=19:00
REMINDER_HOUR_BEFORE=true
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞

```env
WORK_START_TIME=00:00
WORK_END_TIME=23:59
SLOT_DURATION=30
```

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 27 –¥–µ–∫–∞–±—Ä—è 2025