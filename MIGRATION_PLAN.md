# üöÄ –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ —Å localhost –Ω–∞ —Å–µ—Ä–≤–µ—Ä (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GitHub)

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-15  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/komarofleo/barber-saas.git

---

## üìã –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –ø–ª–∞–Ω –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ—à–∞–≥–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞ Barber SaaS —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GitHub –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–æ–º.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GitHub:**
- ‚úÖ –í–µ—Å—å –∫–æ–¥ —É–∂–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤—Ä—É—á–Ω—É—é
- ‚úÖ –õ–µ–≥–∫–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ `git pull`
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ Git (`.env` –≤ `.gitignore`)

---

## üîç –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –ù–∞ localhost:

```bash
cd /Users/komarofleo/ai/barber

# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–¥ –≤ Git
git status
git log --oneline -5

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ GitHub
git remote -v
git push origin main  # –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ .env –Ω–µ –≤ Git (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
git check-ignore .env  # –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: .env
```

---

## üì¶ –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞ localhost

### –®–∞–≥ 1.1: –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ù–∞ localhost
cd /Users/komarofleo/ai/barber

# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –±—ç–∫–∞–ø–æ–≤
mkdir -p backups

# –°–æ–∑–¥–∞—Ç—å –¥–∞–º–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker-compose exec -T postgres pg_dump -U barber_user barber_db > backups/database_backup_$(date +%Y%m%d_%H%M%S).sql

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
ls -lh backups/database_backup_*.sql

# –°–∂–∞—Ç—å –±—ç–∫–∞–ø (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞)
gzip backups/database_backup_*.sql
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –§–∞–π–ª `backups/database_backup_YYYYMMDD_HHMMSS.sql` –∏–ª–∏ `.sql.gz`

---

### –®–∞–≥ 1.2: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤–µ—Å—å –∫–æ–¥ –≤ Git

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
git status

# –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add -A
git commit -m "–ü–µ—Ä–µ–¥ –º–∏–≥—Ä–∞—Ü–∏–µ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä - —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è"
git push origin main
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
git log origin/main -1
```

---

### –®–∞–≥ 1.3: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é .env (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å!)
cp .env .env.localhost.backup

# –ò–ª–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
cat .env > ~/barber_env_backup.txt
```

**–í–∞–∂–Ω–æ:** 
- `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ä–µ—Ç—ã (–ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã)
- `.env` —É–∂–µ –≤ `.gitignore` - –Ω–µ –ø–æ–ø–∞–¥–µ—Ç –≤ Git
- –ù—É–∂–Ω–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

### –®–∞–≥ 1.4: –ó–∞–ø–∏—Å–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏

```bash
# –ó–∞–ø–∏—Å–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –º–∏–≥—Ä–∞—Ü–∏–π
docker-compose exec web alembic current > backups/migration_version.txt

# –ó–∞–ø–∏—Å–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ö–µ–º –≤ –ë–î
docker-compose exec postgres psql -U barber_user -d barber_db -c "\dn" > backups/schemas_list.txt
```

---

## üñ•Ô∏è –≠—Ç–∞–ø 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### –®–∞–≥ 2.1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh user@your-server.com

# –ò–ª–∏ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫–ª—é—á:
ssh -i ~/.ssh/your_key user@your-server.com
```

---

### –®–∞–≥ 2.2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
# –û–±–Ω–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker
sudo apt install -y docker.io docker-compose
sudo systemctl enable docker
sudo systemctl start docker

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é
docker --version
docker-compose --version

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Git (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
sudo apt install -y git
```

**–°—Ç–∞—Ç—É—Å:** 
- ‚úÖ Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: –≤–µ—Ä—Å–∏—è 28.2.2
- ‚úÖ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: –≤–µ—Ä—Å–∏—è 2.37.1
- ‚úÖ Git —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: –≤–µ—Ä—Å–∏—è 2.43.0
- ‚úÖ Docker –≤–∫–ª—é—á–µ–Ω –≤ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫—É –∏ –∑–∞–ø—É—â–µ–Ω

---

### –®–∞–≥ 2.3: –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo mkdir -p /opt/barber
sudo chown $USER:$USER /opt/barber
cd /opt/barber
```

**–°—Ç–∞—Ç—É—Å:** –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/opt/barber` —Å–æ–∑–¥–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

---

### –®–∞–≥ 2.4: –ü–æ—Å—Ç–∞–≤–∏—Ç—å Apache –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π —Å—Ç–∞—Ç–∏–∫–∏ (index.html –Ω–∞ 80) ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

> –ï—Å–ª–∏ –¥–∞–ª—å—à–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è Nginx –∫–∞–∫ reverse-proxy, Apache –º–æ–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –∏–ª–∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –ø–æ—Ä—Ç 80. –ü–æ–∫–∞ –ø–æ–¥–Ω–∏–º–µ–º –ø—Ä–æ—Å—Ç—É—é –∑–∞–≥–ª—É—à–∫—É, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞ –∏–∑–≤–Ω–µ.

**–°—Ç–∞—Ç—É—Å:** Apache —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 80. –ó–∞–≥–ª—É—à–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É `http://45.144.67.47/`

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Apache
sudo apt install -y apache2

# –†–∞–∑—Ä–µ—à–∏—Ç—å HTTP –≤ firewall (–µ—Å–ª–∏ ufw –≤–∫–ª—é—á–µ–Ω)
sudo ufw allow 80/tcp

# –ó–∞–º–µ–Ω–∏—Ç—å index.html –∑–∞–≥–ª—É—à–∫–æ–π
sudo tee /var/www/html/index.html >/dev/null <<'EOF'
<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>Barber SaaS</title>
</head>
<body>
  <h1>Barber SaaS</h1>
  <p>–°–µ—Ä–≤–µ—Ä –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é. –î–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ GitHub.</p>
</body>
</html>
EOF

# –ü—Ä–∞–≤–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (www-data –≤–ª–∞–¥–µ–ª–µ—Ü)
sudo chown -R www-data:www-data /var/www/html
sudo chmod -R 755 /var/www/html

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl restart apache2

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞
curl -I http://127.0.0.1
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–Ω–∞—Ä—É–∂–∏:** –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ `http://<IP_—Å–µ—Ä–≤–µ—Ä–∞>` –∏ —É–≤–∏–¥–µ—Ç—å –∑–∞–≥–ª—É—à–∫—É.  
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –µ—Å–ª–∏ –ø–æ–∑–∂–µ –±—É–¥–µ—Ç –≤–∫–ª—é—á—ë–Ω Nginx (—ç—Ç–∞–ø 8), —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 80 —Å–≤–æ–±–æ–¥–µ–Ω –∏–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Apache (`sudo systemctl stop apache2`).

---

## üì• –≠—Ç–∞–ø 3: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞ –∏–∑ GitHub ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

### –®–∞–≥ 3.1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/komarofleo/barber-saas.git .

# –ò–ª–∏ –µ—Å–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSH:
# git clone git@github.com:komarofleo/barber-saas.git .
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –∫–æ–¥ —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω
ls -la
git log --oneline -5
```

**–°—Ç–∞—Ç—É—Å:** 
- ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —É—Å–ø–µ—à–Ω–æ –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω –≤ `/opt/barber`
- ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞ –º–µ—Å—Ç–µ: `web/`, `bot/`, `shared/`, `docker-compose.yml`
- ‚úÖ –ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç: `6378d40 feat: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –º–µ–Ω—é`

---

### –®–∞–≥ 3.2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
ls -la
ls -la web/
ls -la bot/
ls -la docker-compose.yml
```

**–î–æ–ª–∂–Ω—ã –±—ã—Ç—å:**
- `docker-compose.yml` ‚úÖ
- `web/` (backend –∏ frontend) ‚úÖ
- `bot/` ‚úÖ
- `shared/` ‚úÖ
- `.gitignore` (`.env` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ) ‚úÖ

**–°—Ç–∞—Ç—É—Å:** –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞, –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ñ–∞–π–ª—ã –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç.

---

## üîê –≠—Ç–∞–ø 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û (—á–∞—Å—Ç–∏—á–Ω–æ)**

### –®–∞–≥ 4.1: –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª
nano .env
```

**–°—Ç–∞—Ç—É—Å:** 
- ‚úÖ –ë–∞–∑–æ–≤—ã–π `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –≤ `/opt/barber/.env`
- ‚úÖ –§–∞–π–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è Git (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ `git check-ignore`)
- ‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ù—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ:
  - `DB_PASSWORD` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞–¥—ë–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –ë–î
  - `SECRET_KEY` - —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT
  - `YOOKASSA_SHOP_ID` –∏ `YOOKASSA_SECRET_KEY` - —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –Æ–∫–∞—Å—Å—ã
  - `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω—ã –±–æ—Ç–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ .env (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å localhost, –Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å):**

```bash
# ============================================
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
# ============================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=barber_db
DB_USER=barber_user
DB_PASSWORD=–ù–û–í–´–ô_–°–ï–ö–†–ï–¢–ù–´–ô_–ü–ê–†–û–õ–¨_–î–õ–Ø_–ü–†–û–î–ê–ö–®–ï–ù–ê

# ============================================
# JWT –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
# ============================================
SECRET_KEY=–ù–û–í–´–ô_–°–ï–ö–†–ï–¢–ù–´–ô_–ö–õ–Æ–ß_–î–õ–Ø_JWT

# ============================================
# Redis
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379

# ============================================
# YooKassa (–ø–ª–∞—Ç–µ–∂–∏)
# ============================================
YOOKASSA_SHOP_ID=–í–ê–®_SHOP_ID
YOOKASSA_SECRET_KEY=–í–ê–®_SECRET_KEY

# ============================================
# Telegram (–¥–µ—Ñ–æ–ª—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω, –µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
# ============================================
TELEGRAM_BOT_TOKEN=–í–ê–®_–¢–û–ö–ï–ù_–ë–û–¢–ê

# ============================================
# URLs (–∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–æ–º–µ–Ω—ã)
# ============================================
FRONTEND_URL=https://your-domain.com
BACKEND_URL=https://api.your-domain.com

# ============================================
# CORS
# ============================================
CORS_ORIGINS=["https://your-domain.com","https://www.your-domain.com"]

# ============================================
# –û–∫—Ä—É–∂–µ–Ω–∏–µ
# ============================================
ENVIRONMENT=production
DEBUG=false
```

**–í–∞–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- ‚úÖ `DB_HOST=postgres` (–∏–º—è —Å–µ—Ä–≤–∏—Å–∞ –≤ docker-compose, –ù–ï localhost!)
- ‚úÖ `REDIS_HOST=redis` (–∏–º—è —Å–µ—Ä–≤–∏—Å–∞ –≤ docker-compose, –ù–ï localhost!)
- ‚úÖ –ò–∑–º–µ–Ω–∏—Ç—å –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –Ω–∞ –Ω–æ–≤—ã–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- ‚úÖ –ò–∑–º–µ–Ω–∏—Ç—å `SECRET_KEY` –Ω–∞ –Ω–æ–≤—ã–π
- ‚úÖ –£–∫–∞–∑–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–æ–º–µ–Ω—ã –≤ `FRONTEND_URL` –∏ `BACKEND_URL`

---

### –®–∞–≥ 4.2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ .env –Ω–µ –≤ Git ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ .env –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è
git check-ignore .env  # –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å: .env

# –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ .env –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è
git status  # .env –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ
```

**–°—Ç–∞—Ç—É—Å:** 
- ‚úÖ `.env` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è Git
- ‚úÖ –§–∞–π–ª –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ `git status`)

---

## üì§ –≠—Ç–∞–ø 5: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –®–∞–≥ 5.1: –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –±—ç–∫–∞–ø –Ω–∞ —Å–µ—Ä–≤–µ—Ä

```bash
# –ù–∞ localhost - —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –±—ç–∫–∞–ø –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp backups/database_backup_*.sql user@your-server.com:/opt/barber/backups/

# –ò–ª–∏ –µ—Å–ª–∏ —Ñ–∞–π–ª —Å–∂–∞—Ç:
scp backups/database_backup_*.sql.gz user@your-server.com:/opt/barber/backups/
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã:**
```bash
# –ß–µ—Ä–µ–∑ rsync (–±—ã—Å—Ç—Ä–µ–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤)
rsync -avz backups/database_backup_*.sql user@your-server.com:/opt/barber/backups/

# –ò–ª–∏ —á–µ—Ä–µ–∑ sftp
sftp user@your-server.com
put backups/database_backup_*.sql /opt/barber/backups/
```

---

### –®–∞–≥ 5.2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±—ç–∫–∞–ø –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber
mkdir -p backups
ls -lh backups/
```

---

## üóÑÔ∏è –≠—Ç–∞–ø 6: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û (—á–∞—Å—Ç–∏—á–Ω–æ)**

### –®–∞–≥ 6.1: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ PostgreSQL ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ PostgreSQL
docker-compose up -d postgres

# –ü–æ–¥–æ–∂–¥–∞—Ç—å –ø–æ–∫–∞ PostgreSQL –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è (10-15 —Å–µ–∫—É–Ω–¥)
sleep 15

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps postgres

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs postgres | tail -20
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä `barber_postgres` –∑–∞–ø—É—â–µ–Ω –∏ –∑–¥–æ—Ä–æ–≤

---

### –®–∞–≥ 6.2: –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ) ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
# –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω–∞
docker-compose exec postgres psql -U barber_user -c "CREATE DATABASE barber_db;"
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω–∞
docker-compose exec postgres psql -U barber_user -l
```

**–°—Ç–∞—Ç—É—Å:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `barber_db` —Å–æ–∑–¥–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ PostgreSQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

---

### –®–∞–≥ 6.3: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã
docker compose exec postgres psql -U barber_user -d barber_db -c "\dt"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–ª–∞–Ω–æ–≤
docker compose exec postgres psql -U barber_user -d barber_db -c "SELECT * FROM plans;"
```

**–°—Ç–∞—Ç—É—Å:** 
- ‚úÖ –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã (21 —Ç–∞–±–ª–∏—Ü–∞ –≤ public —Å—Ö–µ–º–µ)
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã `plans`, `companies`, `subscriptions`, `payments`, `super_admins` —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã –¥–ª—è tenant –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω—ã (`users`, `clients`, `services`, `bookings`, `masters`, `posts`, `timeslots`, `settings`, `notifications`, `promocodes`, `promotions`, `master_services`, `booking_history`, `client_history`, `blocked_slots`, `broadcasts`)
- ‚úÖ –ü–ª–∞–Ω—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã (4 –ø–ª–∞–Ω–∞: Starter, Standard, Business, Enterprise)
- ‚úÖ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: `curl http://45.144.67.47:8000/api/public/plans` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å –ø–ª–∞–Ω–∞–º–∏

---

### –®–∞–≥ 6.4: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±—ç–∫–∞–ø–∞ (–ü–†–û–ü–£–©–ï–ù–û)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# –ï—Å–ª–∏ —Ñ–∞–π–ª —Å–∂–∞—Ç - —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å
gunzip backups/database_backup_*.sql.gz  # –ï—Å–ª–∏ –Ω—É–∂–Ω–æ

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
docker-compose exec -T postgres psql -U barber_user -d barber_db < backups/database_backup_*.sql
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã –≤ public —Å—Ö–µ–º–µ
docker-compose exec postgres psql -U barber_user -d barber_db -c "\dt public.*"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–∞–Ω–∏–π
docker-compose exec postgres psql -U barber_user -d barber_db -c "SELECT COUNT(*) FROM public.companies;"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ tenant —Å—Ö–µ–º
docker-compose exec postgres psql -U barber_user -d barber_db -c "\dn"
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –¢–∞–±–ª–∏—Ü—ã –≤ `public` —Å—Ö–µ–º–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –î–∞–Ω–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–π –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç
- Tenant —Å—Ö–µ–º—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç (–µ—Å–ª–∏ –±—ã–ª–∏)

---

### –®–∞–≥ 6.4: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# –ó–∞–ø—É—Å—Ç–∏—Ç—å web –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π)
docker-compose up -d web

# –ü–æ–¥–æ–∂–¥–∞—Ç—å –ø–æ–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è
sleep 10

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –º–∏–≥—Ä–∞—Ü–∏–π
docker-compose exec web alembic current

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –Ω–æ–≤—ã–µ)
docker-compose exec web alembic upgrade head

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è
docker-compose exec web alembic current
```

---

## üöÄ –≠—Ç–∞–ø 7: –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

### –®–∞–≥ 7.1: –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã:
- ‚úÖ `barber_postgres` - Running (healthy)
- ‚úÖ `barber_redis` - Running (healthy)
- ‚úÖ `barber_web` - Running (–ø–æ—Ä—Ç 8000)
- ‚úÖ `barber_frontend` - Running (–ø–æ—Ä—Ç 3000)
- ‚úÖ `barber_bot` - Running
- ‚úÖ `barber_celery_worker` - Running
- ‚úÖ `barber_celery_beat` - Running
- ‚úÖ `barber_super_admin_bot` - Running

**–°—Ç–∞—Ç—É—Å:** –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç.

---

### –®–∞–≥ 7.2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs web | tail -50
docker-compose logs bot | tail -50
docker-compose logs celery-worker | tail -50
docker-compose logs celery-beat | tail -50
docker-compose logs web-frontend | tail -50
```

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
- ‚ùå –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- ‚ùå –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª–µ–π
- ‚ùå –û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–π
- ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

---

### –®–∞–≥ 7.3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤ ‚úÖ **–í–´–ü–û–õ–ù–ï–ù–û**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API
curl http://localhost:8000/api/health
# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {"status":"ok"}

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Frontend
curl http://localhost:3000
# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–ª–∞–Ω–æ–≤ (–ø—É–±–ª–∏—á–Ω—ã–π API)
curl http://localhost:8000/api/public/plans
# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: JSON —Å –ø–ª–∞–Ω–∞–º–∏
```

**–°—Ç–∞—Ç—É—Å:**
- ‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω: `http://45.144.67.47:8000/api/health` ‚Üí `{"status":"ok"}`
- ‚úÖ Frontend –¥–æ—Å—Ç—É–ø–µ–Ω: `http://45.144.67.47:3000` ‚Üí HTTP 200 OK
- ‚ö†Ô∏è –ú–∏–≥—Ä–∞—Ü–∏–∏: —Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –º–∏–≥—Ä–∞—Ü–∏–π (–ø—Ä–æ–±–ª–µ–º–∞ —Å `001_create_multi_tenant_tables.py`)

---

## üåê –≠—Ç–∞–ø 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

### –®–∞–≥ 8.1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Nginx

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo apt install -y nginx
sudo systemctl enable nginx
sudo systemctl start nginx
```

---

### –®–∞–≥ 8.2: –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo nano /etc/nginx/sites-available/barber
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**

```nginx
# Backend API
server {
    listen 80;
    server_name api.your-domain.com;

    location / {
        proxy_pass http://localhost:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –¥–æ–ª–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
        proxy_connect_timeout 60s;
        proxy_send_timeout 60s;
        proxy_read_timeout 60s;
    }
}

# Frontend
server {
    listen 80;
    server_name your-domain.com www.your-domain.com;

    location / {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

```bash
# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo ln -s /etc/nginx/sites-available/barber /etc/nginx/sites-enabled/

# –£–¥–∞–ª–∏—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–µ—Å–ª–∏ –µ—Å—Ç—å)
sudo rm -f /etc/nginx/sites-enabled/default

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
sudo nginx -t

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx
sudo systemctl reload nginx
```

---

### –®–∞–≥ 8.3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL (Let's Encrypt)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo apt install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –≤—Å–µ—Ö –¥–æ–º–µ–Ω–æ–≤
sudo certbot --nginx -d your-domain.com -d www.your-domain.com -d api.your-domain.com

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo certbot renew --dry-run
```

---

## ‚úÖ –≠—Ç–∞–ø 9: –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –®–∞–≥ 9.1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–ø–∞–Ω–∏–π
docker-compose exec postgres psql -U barber_user -d barber_db -c "SELECT COUNT(*) FROM public.companies;"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ö–µ–º
docker-compose exec postgres psql -U barber_user -d barber_db -c "\dn"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏
docker-compose exec postgres psql -U barber_user -d barber_db -c "SELECT COUNT(*) FROM public.subscriptions;"
```

---

### –®–∞–≥ 9.2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API endpoints

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏–ª–∏ —Å localhost

# Health check
curl http://localhost:8000/api/health

# –ü—É–±–ª–∏—á–Ω—ã–µ –ø–ª–∞–Ω—ã
curl http://localhost:8000/api/public/plans

# Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
curl http://localhost:8000/docs
```

---

### –®–∞–≥ 9.3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Frontend

```bash
# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://your-server-ip:3000
# –∏–ª–∏
https://your-domain.com  # –ï—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Nginx + SSL
```

---

### –®–∞–≥ 9.4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–æ—Ç—ã

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –±–æ—Ç–∞
docker-compose logs bot | tail -50

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps bot

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–∞–Ω–∏–π
docker-compose logs bot | grep "–ó–∞–ø—É—â–µ–Ω –±–æ—Ç –¥–ª—è –∫–æ–º–ø–∞–Ω–∏–∏"
```

---

## üîÑ –≠—Ç–∞–ø 10: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Git (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# 1. –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
docker-compose exec -T postgres pg_dump -U barber_user barber_db | gzip > backups/db_before_update_$(date +%Y%m%d_%H%M%S).sql.gz

# 2. –ü–æ–ª—É—á–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ GitHub
git fetch origin
git pull origin main

# 3. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å Dockerfile)
docker-compose build

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up -d

# 5. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –Ω–æ–≤—ã–µ)
docker-compose exec web alembic upgrade head

# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps
docker-compose logs -f --tail=50
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ SCP (–µ—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ Git –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

```bash
# –ù–∞ localhost - —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
scp -r web/backend/app/* user@server:/opt/barber/web/backend/app/
scp -r web/frontend/src/* user@server:/opt/barber/web/frontend/src/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ - –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
cd /opt/barber
docker-compose restart web
docker-compose restart web-frontend
```

---

## üõ°Ô∏è –≠—Ç–∞–ø 11: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –®–∞–≥ 11.1: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å firewall

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
sudo ufw allow 22/tcp    # SSH
sudo ufw allow 80/tcp     # HTTP
sudo ufw allow 443/tcp    # HTTPS
sudo ufw enable

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo ufw status
```

---

### –®–∞–≥ 11.2: –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª–∏

**–í–∞–∂–Ω–æ:** –ò–∑–º–µ–Ω–∏—Ç—å –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –Ω–∞ –Ω–æ–≤—ã–µ:

1. **–ü–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** (`DB_PASSWORD` –≤ `.env`)
2. **JWT —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á** (`SECRET_KEY` –≤ `.env`)
3. **–ü–∞—Ä–æ–ª–∏ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∞ –≤ –ë–î:**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
docker-compose exec postgres psql -U barber_user -d barber_db -c "UPDATE public.super_admins SET password_hash = '–ù–û–í–´–ô_–•–ï–®' WHERE id = 1;"
```

---

### –®–∞–≥ 11.3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –∫–ª—é—á–∏

```bash
# –ù–∞ localhost - —Å–æ–∑–¥–∞—Ç—å SSH –∫–ª—é—á (–µ—Å–ª–∏ –Ω–µ—Ç)
ssh-keygen -t ed25519 -C "your_email@example.com"

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh-copy-id user@your-server.com
```

---

## üìù –≠—Ç–∞–ø 12: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã

### –®–∞–≥ 12.1: –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –±—ç–∫–∞–ø–∞

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber
mkdir -p scripts
nano scripts/backup.sh
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ `/opt/barber/scripts/backup.sh`:**

```bash
#!/bin/bash
set -e

BACKUP_DIR="/opt/barber/backups"
mkdir -p "$BACKUP_DIR"

BACKUP_DATE=$(date +%Y%m%d_%H%M%S)

echo "=== –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞: $BACKUP_DATE ==="

# –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
cd /opt/barber
docker-compose exec -T postgres pg_dump -U barber_user barber_db | gzip > "$BACKUP_DIR/db_backup_${BACKUP_DATE}.sql.gz"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞
DB_SIZE=$(du -h "$BACKUP_DIR/db_backup_${BACKUP_DATE}.sql.gz" | cut -f1)
echo "‚úÖ –ë—ç–∫–∞–ø –ë–î —Å–æ–∑–¥–∞–Ω: $DB_SIZE"

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –±—ç–∫–∞–ø—ã (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find "$BACKUP_DIR" -name "*.sql.gz" -mtime +30 -delete

echo "‚úÖ –ë—ç–∫–∞–ø –∑–∞–≤–µ—Ä—à–µ–Ω: $BACKUP_DATE"
```

```bash
# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x /opt/barber/scripts/backup.sh

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
/opt/barber/scripts/backup.sh
```

---

### –®–∞–≥ 12.2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø (cron)

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
crontab -e
```

**–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 02:00):**

```cron
0 2 * * * /opt/barber/scripts/backup.sh >> /opt/barber/backups/backup.log 2>&1
```

---

## üÜò –≠—Ç–∞–ø 13: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞ (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫)

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
cd /opt/barber

# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–∫—Ä–æ–º–µ postgres)
docker-compose stop web bot celery-worker celery-beat

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ PostgreSQL
docker-compose up -d postgres
sleep 10

# 3. –£–¥–∞–ª–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–û–°–¢–û–†–û–ñ–ù–û!)
docker-compose exec postgres psql -U barber_user -c "DROP DATABASE IF EXISTS barber_db;"
docker-compose exec postgres psql -U barber_user -c "CREATE DATABASE barber_db;"

# 4. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –±—ç–∫–∞–ø–∞
gunzip backups/db_backup_*.sql.gz  # –ï—Å–ª–∏ —Å–∂–∞—Ç
docker-compose exec -T postgres psql -U barber_user -d barber_db < backups/db_backup_*.sql

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up -d
```

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫-–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

### –ù–∞ localhost:
- [ ] –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞–Ω (`backups/database_backup_*.sql`)
- [ ] –í–µ—Å—å –∫–æ–¥ –∑–∞–∫–æ–º–º–∏—á–µ–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ GitHub (`git push`)
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω `.env` —Ñ–∞–π–ª (–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ)
- [ ] –ó–∞–ø–∏—Å–∞–Ω–∞ –≤–µ—Ä—Å–∏—è –º–∏–≥—Ä–∞—Ü–∏–π (`alembic current`)
- [ ] –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
- [ ] Docker –∏ Docker Compose —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] Git —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] –ö–æ–¥ —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω –∏–∑ GitHub (`git clone`)
- [ ] –°–æ–∑–¥–∞–Ω `.env` —Ñ–∞–π–ª —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏–∑ –±—ç–∫–∞–ø–∞
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã (`alembic upgrade head`)
- [ ] –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã (`docker-compose ps`)
- [ ] API –¥–æ—Å—Ç—É–ø–µ–Ω (`curl http://localhost:8000/api/health`)
- [ ] Frontend –¥–æ—Å—Ç—É–ø–µ–Ω (`curl http://localhost:3000`)
- [ ] –ë–æ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤)
- [ ] Celery worker –∏ beat —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (cron)

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –° GitHub vs –ë–µ–∑ GitHub

### ‚úÖ –° GitHub (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
- –ö–æ–¥: `git clone` - 1 –∫–æ–º–∞–Ω–¥–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è: `git pull` - 1 –∫–æ–º–∞–Ω–¥–∞
- –ò—Å—Ç–æ—Ä–∏—è: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ Git
- –û—Ç–∫–∞—Ç: `git checkout` - –ª–µ–≥–∫–æ
- –°–µ–∫—Ä–µ—Ç—ã: –ë–µ–∑–æ–ø–∞—Å–Ω–æ (`.env` –≤ `.gitignore`)

### ‚ùå –ë–µ–∑ GitHub:
- –ö–æ–¥: –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤—Ä—É—á–Ω—É—é (SCP/rsync)
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è: –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –∑–∞–Ω–æ–≤–æ
- –ò—Å—Ç–æ—Ä–∏—è: –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –û—Ç–∫–∞—Ç: –°–ª–æ–∂–Ω–æ
- –°–µ–∫—Ä–µ—Ç—ã: –†–∏—Å–∫ –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ Git

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Git –¥–ª—è –∫–æ–¥–∞**
   - –ö–æ–¥ –≤ GitHub
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ `git pull`
   - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

2. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã**
   - `.env` –≤ `.gitignore` ‚úÖ
   - –ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

3. **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –±—ç–∫–∞–ø—ã**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –ë–î (cron)
   - –•—Ä–∞–Ω–∏—Ç—å –±—ç–∫–∞–ø—ã –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –õ–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs -f

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –†–∞–∑–º–µ—Ä volumes
docker system df -v
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# –ü–æ–ª—É—á–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ GitHub
git pull origin main

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose build
docker-compose up -d

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
docker-compose exec web alembic upgrade head
```

### –ë—ç–∫–∞–ø—ã:

```bash
# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –≤—Ä—É—á–Ω—É—é
/opt/barber/scripts/backup.sh

# –°–ø–∏—Å–æ–∫ –±—ç–∫–∞–ø–æ–≤
ls -lh /opt/barber/backups/
```

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —ç—Ç–∞–ø–æ–≤ –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GitHub –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–æ–º.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ö–æ–¥ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (GitHub)
- ‚úÖ –õ–µ–≥–∫–æ –æ–±–Ω–æ–≤–ª—è—Ç—å (`git pull`)
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –≤ Git
- ‚úÖ –î–∞–Ω–Ω—ã–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-15  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/komarofleo/barber-saas.git
**–°—Ç–∞—Ç—É—Å:** 
- ‚úÖ Apache –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –æ—Ç–∫–ª—é—á—ë–Ω
- ‚úÖ Nginx reverse-proxy –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ Frontend –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ Nginx: http://45.144.67.47/
- ‚úÖ API Health –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ Nginx: http://45.144.67.47/api/health ‚Üí {"status":"ok"}
- ‚úÖ –ü—É–±–ª–∏—á–Ω—ã–π API —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Nginx: http://45.144.67.47/api/public/plans ‚Üí –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON —Å –ø–ª–∞–Ω–∞–º–∏

**–ë–æ—Ç –ª–æ–≥–∏:** 
- super-admin-bot: –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω (1) 28 —Å–µ–∫—É–Ω–¥ –Ω–∞–∑–∞–¥
- bot: —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- celery-worker, celery-beat: —Ä–∞–±–æ—Ç–∞—é—Ç
- WARNING: "–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–æ–≤" - –æ–∂–∏–¥–∞–µ–º–æ, —Ç–∞–∫ –∫–∞–∫ –≤ –ë–î –Ω–µ—Ç –∫–æ–º–ø–∞–Ω–∏–π

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx:**
server {
    listen 80;
    server_name 45.144.67.47;

    location / {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;
    }

    location /api/ {
        proxy_pass http://127.0.0.1:8000;
        proxy_http_version 1.1;
        proxy_set_header Host "$host";
        proxy_set_header X-Real-IP "$remote_addr";
        proxy_set_header X-Forwarded-For "$proxy_add_x_forwarded_for";
        proxy_set_header X-Forwarded-Proto "$scheme";
    }
}
