# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ Telegram –±–æ—Ç–µ

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –¢–µ–∫—Å—Ç "–û –Ω–∞—Å"
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–µ–∫—Å—Ç "–°–∞–º—ã–π –ª—É—á—à–∏–π –∞–≤—Ç–æ—Å–µ—Ä–≤–∏!" –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–∞–ª–æ–Ω—É –∫—Ä–∞—Å–æ—Ç—ã

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω —Ç–µ–∫—Å—Ç –≤ `bot/handlers/client/profile.py` (—Å—Ç—Ä–æ–∫–∞ 173)
- ‚úÖ –ù–æ–≤—ã–π —Ç–µ–∫—Å—Ç: "–°–∞–º—ã–π –ª—É—á—à–∏–π —Å–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã –≤ –≥–æ—Ä–æ–¥–µ!"

### 2. –ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —É—Å–ª—É–≥
**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –Ω–µ –º–æ–≥ –ø–æ–ª—É—á–∏—Ç—å —É—Å–ª—É–≥–∏ –∏–∑ tenant —Å—Ö–µ–º—ã –ë–î

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

#### `bot/database/crud.py`:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `company_id` –≤ —Ñ—É–Ω–∫—Ü–∏—é `get_services()`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ `search_path` –¥–ª—è tenant —Å—Ö–µ–º—ã –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º —É—Å–ª—É–≥
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `company_id` –≤ —Ñ—É–Ω–∫—Ü–∏—é `get_service_by_id()`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ `search_path` –¥–ª—è tenant —Å—Ö–µ–º—ã –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º —É—Å–ª—É–≥–∏

#### `bot/handlers/client/booking.py`:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_company_id_from_context()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `company_id` –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –≤—ã–∑–æ–≤ `get_services()` —Å –ø–µ—Ä–µ–¥–∞—á–µ–π `company_id`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã `get_service_by_id()` —Å –ø–µ—Ä–µ–¥–∞—á–µ–π `company_id` (3 –º–µ—Å—Ç–∞)

#### `bot/handlers/client/calendar.py`:
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `get_company_id_from_context()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `company_id` –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã `get_service_by_id()` —Å –ø–µ—Ä–µ–¥–∞—á–µ–π `company_id` (2 –º–µ—Å—Ç–∞)

#### `bot/handlers/booking_subscription_check.py`:
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞: –∑–∞–º–µ–Ω–µ–Ω–æ `state.resolve_dp()` –Ω–∞ `Bot.get_current().get_dispatcher()`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ bot –∏–ª–∏ dispatcher –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã

---

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î

**–£—Å–ª—É–≥–∏:** 5 –∞–∫—Ç–∏–≤–Ω—ã—Ö —É—Å–ª—É–≥ –≤ `tenant_8.services`:
- –°—Ç—Ä–∏–∂–∫–∞ –º—É–∂—Å–∫–∞—è (30 –º–∏–Ω, 800‚ÇΩ)
- –°—Ç—Ä–∏–∂–∫–∞ –∂–µ–Ω—Å–∫–∞—è (60 –º–∏–Ω, 1500‚ÇΩ)
- –û–∫—Ä–∞—à–∏–≤–∞–Ω–∏–µ (120 –º–∏–Ω, 2500‚ÇΩ)
- –£–∫–ª–∞–¥–∫–∞ (45 –º–∏–Ω, 1000‚ÇΩ)
- –ú–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (150 –º–∏–Ω, 3000‚ÇΩ)

---

## üöÄ –°—Ç–∞—Ç—É—Å

- ‚úÖ Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- ‚úÖ –ë–æ—Ç –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω –∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å tenant —Å—Ö–µ–º–∞–º–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **"–û –Ω–∞—Å":** –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É "‚ÑπÔ∏è –û –Ω–∞—Å" - –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å "–°–∞–º—ã–π –ª—É—á—à–∏–π —Å–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã –≤ –≥–æ—Ä–æ–¥–µ!"
2. **–£—Å–ª—É–≥–∏:** –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É "üìÖ –ó–∞–ø–∏—Å–∞—Ç—å—Å—è" - –¥–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è 5 —É—Å–ª—É–≥

---

**–í—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!** üéâ
